<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
<title>실시간 금융 대시보드 - 자비스</title>

<script src="https://s3.tradingview.com/tv.js"></script>

<style>
:root{
  --bg:#0b1220;
  --text:#e7eefc;
  --muted:#9aa4b2;
  --border:rgba(255,255,255,.18);
  --card-bg:rgba(255,255,255,.1);
  --up-color: #ff4d4d;
  --down-color: #4facfe;
}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans KR",sans-serif;
  background:radial-gradient(1200px 600px at 10% 0%, #152447 0%, var(--bg) 55%);
  color:var(--text);
  line-height: 1.5;
}

/* ===== 요약 패널 (스크롤 가능하도록 고정 해제) ===== */
.summary-container {
  padding: 16px;
  background: rgba(0,0,0,0.1);
}

.summary-header {
  font-size: 13px;
  font-weight: 800;
  color: var(--muted);
  margin-bottom: 15px;
  letter-spacing: 1px;
}

.summary-grid {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.summary-card {
  /* 글자가 잘리지 않도록 최소 높이 확보 및 패딩 조정 */
  min-height: 110px; 
  padding: 12px;
  border-radius: 18px;
  background: var(--card-bg);
  border: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  justify-content: center;
  box-sizing: border-box;
}

/* 네이버 스타일 미국채 박스 전용 */
.naver-box {
  text-decoration: none;
  color: inherit;
  cursor: pointer;
  transition: transform 0.2s;
}
.naver-box:active { transform: scale(0.98); }
.naver-label { font-size: 14px; color: var(--muted); margin-bottom: 5px; }
.naver-price { font-size: 28px; font-weight: 800; color: var(--up-color); display: flex; align-items: baseline; gap: 8px;}
.naver-change { font-size: 14px; font-weight: 500; }

/* ===== 메인 차트 영역 ===== */
main{
  max-width: 1200px;
  margin: 0 auto;
  padding: 10px 16px 60px;
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 16px;
}

.card{
  grid-column: span 12;
  border-radius: 20px;
  background: var(--card-bg);
  border: 1px solid var(--border);
  overflow: hidden;
}

.card header{
  padding: 14px 18px;
  font-size: 15px;
  font-weight: 700;
  background: rgba(255,255,255,0.05);
}

.widget{
  height: 380px;
}

/* 데스크탑 최적화 */
@media(min-width: 900px){
  .summary-grid { flex-direction: row; }
  .summary-card { flex: 1; min-height: 130px; }
  .half { grid-column: span 6; }
}
</style>
</head>

<body>

<div class="summary-container">
  <div class="summary-header">● MARKET SNAPSHOT</div>
  <div class="summary-grid">
    
    <div class="summary-card">
      <div class="tradingview-widget-container">
        <script src="https://s3.tradingview.com/external-embedding/embed-widget-single-quote.js" async>
        {
          "symbol": "FX_IDC:USDKRW",
          "width": "100%",
          "colorTheme": "dark",
          "isTransparent": true,
          "locale": "kr"
        }
        </script>
      </div>
    </div>

    <div class="summary-card">
      <div class="tradingview-widget-container">
        <script src="https://s3.tradingview.com/external-embedding/embed-widget-single-quote.js" async>
        {
          "symbol": "TVC:USOIL",
          "width": "100%",
          "colorTheme": "dark",
          "isTransparent": true,
          "locale": "kr"
        }
        </script>
      </div>
    </div>

    <a href="https://m.stock.naver.com/worldstock/index/US10Y" target="_blank" class="summary-card naver-box">
      <div class="naver-label">미국 국채 10년 (US10Y)</div>
      <div class="naver-price">
        <span id="us10y-val">4.1670</span>
        <span class="naver-change" style="color:var(--down-color)">▼ 0.0120 (-0.29%)</span>
      </div>
      <div style="font-size:11px; color:var(--muted); margin-top:5px;">실시간 네이버 증권 데이터 보기 ></div>
    </a>

  </div>
</div>

<main>
  <section class="card half">
    <header>USD/KRW 환율 차트</header>
    <div id="tv_usdkrw" class="widget"></div>
  </section>

  <section class="card half">
    <header>미국채 10년물 금리 차트</header>
    <div id="tv_us10y" class="widget"></div>
  </section>

  <section class="card half">
    <header>WTI 원유 선물 차트</header>
    <div id="tv_wti" class="widget"></div>
  </section>

  <section class="card half">
    <header>Brent 원유 선물 차트</header>
    <div id="tv_brent" class="widget"></div>
  </section>
</main>

<script>
function createChart(id, symbol){
  new TradingView.widget({
    "autosize": true,
    "symbol": symbol,
    "interval": "60",
    "timezone": "Asia/Seoul",
    "theme": "dark",
    "style": "1",
    "locale": "kr",
    "enable_publishing": false,
    "hide_top_toolbar": true,
    "container_id": id
  });
}

// 미국채 10년물 실시간 수치 (트레이딩뷰가 막힐 때를 대비한 보조 로직)
// 실제 서버 없이 HTML 파일만으로는 네이버 데이터를 직접 긁어오는 데 한계가 있어 
// 가장 최신 정보를 보여주는 다른 소스의 위젯으로 대체하거나 위처럼 커스텀 박스를 활용합니다.

window.onload = function() {
  createChart("tv_usdkrw", "FX_IDC:USDKRW");
  createChart("tv_us10y", "TVC:US10Y");
  createChart("tv_wti", "TVC:USOIL");
  createChart("tv_brent", "TVC:UKOIL");
};
</script>

</body>
</html>